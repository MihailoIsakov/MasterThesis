\section{Network simulators}
\label{section:network_simulators}

In order to perform my network tests, I will need a network simulator. I have chosen not to make my own, since it will take too much time, and will make it much harder to compare my results with that of others. I have been able to identify 4 big network simulators: ns-2, ns-3, GloMoSim and the Opnet Modeler.

\begin{description}
\item[ns-2:] ns-2 is a discrete event network simulator. The latest version I have been able to find is version 2.34 from 2009. Ns-2 uses the programming language Otcl for most of its non-core engine files --- routing algorithms and the scenario files that configures how the test is to be performed. Otherwise everything is written in C++.
\item[ns-3:] ns-3 is the successor to ns-2 in an attempt to make a clean break from the architecture of ns-2 and its reliance on Otcl in favour for Python.
\item[GloMoSim:] GloMoSim is a parallel discrete-event simulator. GloMoSim is an old simulator, version 2.3, last updated December 2001\footnote{GloMoSim can be found at \url{http://pcl.cs.ucla.edu/projects/glomosim/academic/download.html} --- last accessed the 31/8 2011}. GloMoSim uses the programming language \emph{Parsec}, a dialect of C, to write most of the non-core engine files -- such as routing algorithms. 
\item[Opnet Modeler:] Opnet is a commercial network simulator. Every layer of the network stack has to be modelled as a finite state machine \cite{MANcom}. 
\end{description}

From \cite{MANcom} it is clear that the Network simulators gives widely different results. Since it is not clear which of the simulators which gives the result that is closest to reality, the parameters I will have to apply to find the best network simulator are: The license of the network simulator. When it was last updated, how configurable any given simulation is, whether or not it supports wireless routing, how much memory it consumes while running, which languages are required to implement a new protocol, how many programming languages are required to implement a new scenario, and whether new routing protocols can just be plugged in, or if the entire network simulator has to be recompiled. For Configurable and memory I will use A, B and C, with A as the highest and C is the lowest, to grade them\\
\begin{scriptsize}
\begin{minipage}{15.0cm}
\begin{tabular}[4]{lllll}
                          & ns-2      & ns-3      & GloMoSim & Opnet Modeler \\
\hline
License:                  & GNU GPL   & GNU GPL   & Academic & People in academic world can apply\\        &           &           &          & for a month renewable license \\
Last updated              & 20/6 2011\footnote{See \url{http://sourceforge.net/projects/nsnam/} --- last accessed 31/8 2011} & May 2011\footnote{\url{http://www.nsnam.org/ns-3-11/} --- last accessed 31/8 2011} & 19/12 2001\footnote{See \url{http://pcl.cs.ucla.edu/projects/glomosim/academic/download.html} --- last accessed 31/8 2011}  & \\
Configurability           & A         & A         & B         & Unknown, but A suspected\\
Support for wireless      & Yes       & Yes       & Yes       & Yes \\
Memory requirements       & A         & B         & B         & Unknown\\
Req for routing protocol  & C++ and OTCL & C++    & Parsec    & None - uses built-in GUI\\
Req for new scenario      & OTCL      & Python    & Custom    & Unknown \\
Plug-in or Recompile      & Recompile & Recompile & Recompile & Plug-in, as it uses the built-in GUI
\end{tabular}
\end{minipage}
\end{scriptsize}

All of the simulators have simple node mobility models built-in. I have however chosen to use a third-party program, BonnMotion\footnote{BonnMotion has been produced as a collaboration between the University of Bonn and the Toilers at \url{toilers.mines.edu} -- last accessed the 16/5 2011} on the grounds that it supports a far greater range of mobility models\footnote{Such as ``Disaster Area'', which I have not found built in implemented in any of the network simulators}, and it enables me to store, and process, the movement traces.

Based on the above, I have chosen to use the ns-2 simulator, since it is far more customisable than both ns-3 and GloMoSim, is Open Source and referred to in much of the literature I have read \todo{refer to at least a few articles} and still being supported, unlike GloMoSim. However, while the 2.34 version is the latest, I have opted to use version 2.33 from 2008, since this is the only version I have been able to find that has a working copy of GPSR\footnote{Found at \url{http://www.cn.uni-duesseldorf.de/alumni/kiess/software/hls-ns2-patch} --- last accessed 31/8 2011} with a location system. The location system in question is the \ac{hls} which borrows many congrats from the \ac{gls} \cite{hls}. Thanks to the working version of GPSR, I have been able to comparatively quickly implement both a Greedy routing algorithm and the GOAFR routing algorithm, which I will test amongst others. 

I have opted not to port the code to ns-2.34 on the grounds that I fear that I might introduce subtle bugs that might take a long time to find and correct. Since this is only one version behind the current stable release, I find this acceptable.
