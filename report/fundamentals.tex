\section{Fundamental Graph Routing}
\label{section:fundamental_graph_routing}
In this section I will describe the fundamentals of graph routing and introduce definitions and terminology that I will use throughout this thesis.\\

\subsection{Graph concepts}
\label{section:graph_concepts}
In order to be able to reason about \ac{manet}, we will have to model it. To do this I will use the graph. A graph $G$ is a set of \emph{nodes} $V$ and set of \emph{edges} $E$. An edge may have a cost to use -- often refereed to as the edge's \emph{weight}. If all edges have the cost of 1, the graph is said to be the \emph{unit} graph. The nodes are represented as points, while the edges are represented as line-segments, that uses two points as its end-points. In this thesis I will only work with graphs that exist in the plane. I find this to be a reasonable simplification, since it makes the graphs far simpler to reason about, but also because almost all the literature about \ac{manet} and \ac{anet} I have been able to find does the same. Furthermore I will define \emph{face} as being the . Given two nodes $v$ and $u$ in the plane. Then $\overline{vu}$ will indicate that there is an edge between node $v$ and $u$, and given an edge $x$ in the graph, then $|x|$ is the length of $x$ in the Euclidean space.

The object of routing in any network is to send a \emph{message} -- which contains both the data to be delivered, but also the meta-data needed for routing, like last visited node --- from its origin, in this thesis defined as the \emph{source}, to some destination node, the \emph{sink}. The ordered set of nodes that the messages passes while it is being routed from the source to the sink will in this thesis be defined as the \emph{path}. In most routing algorithms, the goal is to find the \emph{shortest path} from the source to the sink, where the shortest path can either be the path that contains the fewest nodes, or the path that has the least weight. In cases where the weight of all edges is 1, as I will assume in this thesis, these are the same. 

In some cases there may be multiple sources and sinks, but in this thesis I will focus only on the cases where there is one of each. I will now introduce the terms I will use to describe the network.

\tikfig{node_different_radius}{Two nodes with different broadcast ranges. Node u is not adjacent to node v, but node v is adjacent to node u -- thus only one-way communication from u to v can take place.}

Given two nodes $v$ and $u$ in the graph, I will say that $u$ is \emph{adjacent} to $v$, iff $v$ can send a message to $u$ directly (i.e. $u$ lies within the range of $v$ transmitter). However, just because $u$ is adjacent to $v$ does not mean that the two nodes can communicate with each other\footnote{Two-way communication is important, since in most routing protocols, $v$ would need a confirmation that $u$ did indeed receive its message, this might be impossible with one-way communication.} since we do not know whether or not $v$'s transmitter is more powerful than $u$'s -- see figure~\ref{fig:node_different_radius}. 

One way to avoid this problem is to apply the \ac{uga}. The \ac{uga} states that all nodes has a perfect omni-directional transmission, that they all spend the same amount of power on the transmission, and that ``the energy dissipates as the square of distance'' \cite{practical}.

More generally I will say that two nodes nodes $v$ and $u$ can only communicate if there exists a \emph{bidirectional link} between the nodes, and that a bidirectional link exist iff $v$ is adjacent to $u$ and $u$ is adjacent to $v$.

Now we can begin to define the \emph{connection graph}. Given a set of nodes $V$ the connection graph C is defined as $C = (V, E)$, where the set of edges $E$ contains an edge between node $v$ and $u$ iff there is a bidirectional link between $v$ and $u$ -- see figure~\ref{fig:connec}. It is important to note that the connection graph only tells us which nodes that can communicate, not how the graph is going to route the message. Therefore I introduce the \emph{Routing Graph} R, where $R = (V, E^{\prime})$, where $E^{\prime} \subseteq E$. It is this graph $R$ that the message will have to navigate in order to find a path from the source to the sink.

Since we obviously want the path from the source to the sink to involves as few nodes as possible, it is useful to introduce the notion of a $k$-spanner. Given a graph $G = (V, E)$, we say that the subgraph $G^{\prime} = (V, E^{\prime})$ is a $k$-spanner, where $k$ is a constant, if for all pairs of points in $G$, the same pair in $G^{\prime}$ is at most $k$ times as far apart as in $G$. This is an obviously desirably property as it gives us an upper bound on how good $G^{\prime}$ is compared to $G$. I will deal further with spanners in section~\ref{section:spanners} on p. \pageref{section:spanners}.

\tikfig{connec-route}{Figure~\ref{fig:nodes} shows a set of nodes. The circle indicates the range of node a's transmission -- all the other nodes has the same range, but have been omitted for clarity's sake. Figure~\ref{fig:connec} shows us the connection graph given the nodes and transmission radius indicated in figure~\ref{fig:nodes}. Figure~\ref{fig:routing_not_planar} and \ref{fig:routing_planar} are examples of routing graph, a subset of the connection graph. Since figure~\ref{fig:routing_planar} is planar, it would be preferred over figure~\ref{fig:routing_not_planar}.}

\subsection{Topology}
\label{section:topology}
\tikfig{graphTop}{An example of the difference between Geometrical and Topological movement. For clarity I have opted not to include node c's transmission radius. In \ref{fig:graphTop2} node b has moved around inside the intersection of node a and node c's transmission radius, but since there has been no change in which nodes node b is adjacent to, b is still a neighbour to both nodes. In \ref{fig:graphTop3} node b has moved outside of node a's transmission radius, but is still inside node c's radius, changing the topology of the graph.}

Since we are dealing with mobile units, the topology of the graph may change as the nodes move around, which means that there must be a mechanism that updates the topology. Since each node has an area it can monitor, its \emph{transmission area}, we will have to be careful to distinguish between \emph{Geometrical movement}, where the node moves, but the topology of the network stays the same, and \emph{Topological movement}, where the movement of the node causes a change in the topology. I have illustrated the difference in figure~\ref{fig:graphTop}.

In the rest of the thesis I will assume we are working in an idealised world, where the transmission radius is a perfect unit disc, and that the transmission does not decrease by the distance. This is of course not the case in the real world, but it makes the reasoning much easier\todo{work on this}.


