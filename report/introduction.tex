\section{Introduction}
\label{section:introduction} 

\subsection{Motivation}

In the last few years we have seen a clear increase in the sale of mobile phones with an advanced OS, Internet access, GPS and large amounts of computing power. These so--called \emph{Smart Phones} are becoming increasingly common \justify{Find numbers or source}, replacing the standard mobile phone in the developed world. Developers are encouraged to write custom applications to these small mobile computers.
 
Many of these Smart Phones has a built-in GPS or WiFi triangulation tools, which can be access by the applications on the phone, making it possible to create services that uses the users location data --- such as directional services (for instance Google Maps) or social networking services (Foursquare).

It would be interest if these devices could form a local network wherein messages, without the need for any kind of centralised infrastructure, could be routed. The topology of this network would have to be created and maintained on the fly by the phones. Having mobile devices create such a network is the study of the field called \ac{manet}Â¸ which itself is a off-shot of the field of \ac{anet}, which only deals with stationary devices. Practical applications of these are sometimes called \emph{Mesh networks}\justify{Justify this} because the coverage of the network is created from a patchwork of devices, each listing and transmitting data, without the need for dedicated network devices.  

In \acp{anet} research energy conservation is usually a high priority. Since \acp{anet} have mostly been used for research oriented sensor networks this makes sense. Such sensor networks are usually deployed in inhospitable and inaccessible regions, which often makes it infeasible to recharge or replace the node's power source. However, in the developed world recharging portable computers or Smart Phones is a trivial task. 

A practical use of \acp{manet} could be in humanitarian operations, such as after a earthquake, flood, hurricane etc. In such situations the infrastructure tends to be heavily damaged, and there will be a great need for coordination to maximise relief efforts. Imagine for instance that there has been an earthquake that has destroyed the wired infrastructure in a town. It is clear, that in order to the most good, the relief workers will need the ability to coordinate their efforts, otherwise some of the work is going to be duplicated, and things that needed immediate attention might be overlook for other, less urgent, problems. Since the local wired infrastructure has been destroyed, the relief workers cannot connect to the local Internet or telephone network. The relief workers may have brought in a \ac{wbs} (with some kind of long-lasting power source), which gives them access to the Internet. However, such a station is likely to be very expensive and bulky, and it is therefore infeasible to scatter these around the entire town. While it is almost a given that devices in its vicinity can connect to the Internet through WiFi, and the \ac{wbs} can improve the distance by boosting the signal, there is a upper limit to its range, before the noise-to-signal ratio becomes too great. See figure~\ref{fig:wbs1} for an illustration of this. An investigation into the movement patterns in such a situation is done in \cite{disasterArea}, which I will use in this report.

\tikfig{wbs-illu}{In figure~\ref{fig:wbs1} we see a network with one \ac{wbs} and a number of nodes and their transmission radius. All nodes, besides the \ac{wbs} (which is connected to the Internet), are functionally alike, but have different colours and shapes depending on their level of connection to the \ac{wbs}. The grey nodes have full connection with the \ac{wbs}, while the striped nodes can receive information from the \ac{wbs}, but not transmit information to it. The black nodes can neither transmit nor receive any data to or from the \ac{wbs}. In figure~\ref{fig:wbs2} forwarding stations have been added, allowing all nodes in the network to be connected. In figure~\ref{fig:wbs3} we have made an (Mobile) Ad-hoc network, connecting all nodes but the bottommost diamond.}

An alternative could be to manually create a wired network, but this can be very time consuming, and prone to disruption as people or vehicles may destroy the connection. A third alternative may be to use \acp{wfs} -- these \acp{wfs} must be placed such that they can both send and receive information from the \ac{wbs} and in this way  make it possible to extend the area that can receive wireless Internet --- see  figure~\ref{fig:wbs2} for an illustration of this. However, these \acp{wfs} are still an extra burden for the relief workers, and it is unlikely that they will be able to cover every knock and cranny. One way to reduce the need of the \acp{wfs} is to make each node in the network propagate the wireless Internet signal. For the system to be of any use, the topology would have to be created on the fly. See figure~\ref{fig:wbs3} for an illustration of an \ac{manet} in the case of the humanitarian example.
 
\todo{Create some kind of break? New topic}There are numerous aspects to create a proper \ac{manet} or \ac{anet}, but two of the major topics of research are how to create the network topology, and how to route the messages, so that the network maximises its lifetime (since nodes will fail when their power supply is exhausted). Unsurprisingly designing a proper \ac{manet} is more difficult than a \ac{anet}, since nodes can join and leave a \ac{manet} with an ease that is not possible in an \ac{anet}. 

Preferably we would like to have these \ac{manet} connected to the Internet, but this is not required for the \ac{manet} to work, and even without access to the Internet the \ac{manet} could still be very useful for internal communication and file sharing. 
 
\todo{finish this section and tighten it up}

\subsection{Expectations to the Reader}
I expect the reader to have a university level understanding of Computer Networking\footnote{For instance having read \cite{ComNet} or similar}, especially when it comes to understanding the building blocks of the network stack, as well as the most common problems with wireless networks. I also expect the reader to have an university level understanding of Algorithms (Having read \cite{algo} or similar) and graph theory.

\subsection{Scope and Limitations}
While important in a real world application, I will in this thesis not concern myself with security, neither in the form of the authentication, anonymity of the sender or ensuring that the individual nodes are not misbehaving, or behaving maliciously. For a treatment of security see \cite{trustedRouting}. Furthermore, if there does not exist a path between two nodes, I will not make any guarantee that the message will ever arrive at the sink. I will furthermore assume that all nodes have the same broadcast radius unless otherwise mentioned.

\subsection{Anatomy of the solution}
A real-life implementation of a Mobile Ad-Hoc Network will need the following elements:
\begin{description}
\item[Routing protocol:] The routing from of a message from a source to the sink.
\item[Routing graph:] The logical graph that the messages are routed through.
\item[Connectivity graph:] The underlying graph that the routing graph is a subset of.
\item[Transport protocol:] TCP, UDP or custom protocol.
\end{description}

Some solutions \todo{give example} that requires a specific routing protocol and routing graph to work in tandem.

More specifically the following questions will have to be answered:

\begin{description}
\item[Entering and Merging networks:] When a node enters a new network, it needs to inform the network of its presence. Furthermore, when the node is already part of a secondary network (none of which are in the first network), then the networks need to be merged together.  
\item[Coordinate scheme:] Most routing schemes uses coordinates in order to find an efficient path, for any given metric, to a node. Therefore we must decide how the nodes are going to find their location. This is also a question about the hardware the nodes have (such as GPS or WiFi, and the required energy to power it for the nodes duration in the network), and some solutions   

Are the nodes going to use their position from a GPS system, or are they going to use some kind relative position.
\item[Node location mechanism:] There needs to be a mechanism so that a node can retrieve the coordinates of another nodes it wants to come into contact with. 
\item[Routing algorithm:] How are the nodes going to route. 
\item[Establishment of the underlying graph:]  Some routing algorithms will only work if the graph they are working on have certain properties\footnote{One such assumption might be that the graph is planar i.e. it can be drawn in the plane such that no edge crosses another}.
\item[Hierarchy:] Whether or not the nodes are going to route through levels of so-called \emph{cluster nodes} that will service numerous nodes.
\end{description} 

In order to simulate and asses the worth of any simulation, several question will have to be answered, such as how the radio waves propagate and a movement model (or find a representative movement trace) to test the effectiveness of the solution. 

In this thesis I have decided to focus on the routing protocol and the routing graph, and rely on already established standards to take care of the lower parts of the problem.

\hide{
\subsection{Background Material Used}
For this project I have read the following articles for background information: ``A Survey on Wireless Mesh Networks'' \cite{martinWirelessSurvey}, ``Mesh networks: commodity multihop ad hoc networks''\cite{martinMeshnetwork} \todo{continue to include the articles you have read and are useful, but that have not been included directly}
}

\subsection{Source Code and Test Data}
\label{section:source_code}
The source code, report and test data can be found in my GitHub repository at \url{https://github.com/kjmikkel/MasterThesis} and is released under the \todo{add license the stuff is released under}.

\subsection{Overview}
In this section I give a quick overview of what the different sections in report will cover.
\begin{description}
\item[Section \ref{section:introduction}] The introduction to the report, which will introduce the problem of Mobile Ad-Hoc Networking.
\item[Section \ref{section:fundamental_graph_routing}] Description of the fundamental concepts of graph routing as well as an introduction of the definitions and concepts that I will use throughout the report.
\item[Section \ref{section:routing_graph}] Introduction of the more advanced graph concepts as well as the graph types I will use in the network simulation.
\item[Section \ref{section:routing_algorithms}] Description of some of the many types of routing algorithms that exist, as well as the problems we have to solve in order to have a mobile ad-hoc network.
\item[Section \ref{section:network_simulators}] Discussion of the choice of network simulator that I will perform my tests with. 
\item[Section \ref{section:test_description}] Discussion of which graph algorithms are to be used and which combinations of parameters are to be tested.
\item[Section \ref{section:test_results}] Presentation of the test results
\item[Section \ref{section:discussion}] Discussion of the test results
\item[Section \ref{section:conclusion}] Conclusion and wrap-up of the results.
\end{description}
